# 模板方法模式（Template Method）
模板方法模式定义了一个算法的骨架，而将一些步骤延迟到子类中实现。模板方法使得子类可以不改变一个算法的结构即可重定义该算法的某些特定步骤。

## 主要解决的问题
- 如何在不改变算法结构的情况下，重定义算法的某些步骤
- 如何实现代码复用的同时确保扩展性
- 如何控制子类的扩展
- 如何定义算法框架

## 应用实例
1. Spring框架的JdbcTemplate
2. Servlet的service方法
3. JUnit的测试流程
4. Android的Activity生命周期

## 使用场景
1. 框架设计
   - 生命周期管理
   - 插件系统
   - 回调机制
2. 业务流程
   - 订单处理
   - 支付流程
   - 审批流程
3. 数据处理
   - 数据验证
   - 数据转换
   - 数据导出
4. 系统架构
   - 初始化流程
   - 资源管理
   - 任务调度

## 优缺点
### 优点
1. 代码复用
   - 减少代码重复
   - 集中管理算法
2. 扩展灵活
   - 易于添加新步骤
   - 保持算法结构
3. 控制有力
   - 统一流程控制
   - 规范子类行为

### 缺点
1. 抽象类依赖
   - 继承机制约束
   - 子类必须实现
2. 违反里氏替换
   - 子类可能违反父类意图
   - 需要小心维护
3. 复杂度增加
   - 类的数量增加
   - 理解成本提高

[原有的代码实现、使用示例和类图部分保持不变...]

## 说明
1. 模板方法模式的主要角色：
   - AbstractClass（抽象类）：定义算法骨架
   - ConcreteClass（具体类）：实现算法步骤
   - Template Method（模板方法）：定义算法流程
   - Hook Method（钩子方法）：控制算法变化
2. 实现要点：
   - 算法步骤的抽象
   - 钩子方法的设计
   - 扩展点的定义
3. 设计考虑：
   - 是否需要钩子方法
   - 是否需要默认实现
   - 是否需要步骤校验
4. 相关模式：
   - 策略模式：不同的算法实现
   - 工厂方法：创建对象的流程
   - 建造者模式：构建对象的步骤 